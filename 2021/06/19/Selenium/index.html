<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Selenium | Jack Dong's Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jack Dong's Blog</a>      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">A modern stylish theme for Hexo</a>        </h2>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>      </nav>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-php" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/19/Selenium/" class="article-date">
  <time class="dt-published" datetime="2021-02-11T23:00:00.000Z" itemprop="datePublished">2021-06-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Selenium/">Selenium</a>  </div>
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Selenium    </h1>
      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div align="center">
    <a target="_blank" rel="noopener" href="https://php.net">
        <img
            alt="PHP"
            src="../../../../images/logos/selenium_logo.jpeg"
            width="150">    </a></div>

<h1 id="The-PHP-Interpreter"><a href="#The-PHP-Interpreter" class="headerlink" title="The PHP Interpreter"></a>Selenium Common API</h1><p>Selenium is a tool of testing web applications. Selenium-testing runs in the browser directly, just like a real user is operating. <br>Selenium supports multiple  browsers, include ie (7, 8, 9, 10, 11), Mozilla, Firefox, Safari, Google Chrome, opera, edge, etc. <br>The main functions of this tool include: testing compatibility of browsers - testing your applications to see if they work well on different browsers and operating systems. <br>Testing system function - create regression test to test software function and user requirement. <br>It supports automatic recording of actions and automatic generation of test scripts in .Net, Java, Perl and other languages.</p>
<p><a target="_blank" rel="noopener" href="https://travis-ci.org/php/php-src"><img src="https://travis-ci.org/php/php-src.svg?branch=master" alt="Build status"></a><br><a target="_blank" rel="noopener" href="https://ci.appveyor.com/project/php/php-src"><img src="https://ci.appveyor.com/api/projects/status/meyur6fviaxgdwdy/branch/master?svg=true" alt="Build status"></a><br><a target="_blank" rel="noopener" href="https://dev.azure.com/phpazuredevops/php/_build/latest?definitionId=1&branchName=master"><img src="https://dev.azure.com/phpazuredevops/php/_apis/build/status/php.php-src?branchName=master" alt="Build Status"></a><br><a target="_blank" rel="noopener" href="https://bugs.chromium.org/p/oss-fuzz/issues/list?sort=-opened&can=1&q=proj:php"><img src="https://oss-fuzz-build-logs.storage.googleapis.com/badges/php.svg" alt="Fuzzing Status"></a></p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2>
<h3 id="Prebuilt-packages-and-binaries"><a href="#Prebuilt-packages-and-binaries" class="headerlink" title="Prebuilt packages and binaries"></a>1.install via jar</h3><p>Click the link of Selenium download, you will see the introduction of Selenium Standalong Server:<br><a target="_blank" rel="noopener" href="http://docs.seleniumhq.org/download/">The Selenium Server is needed in order to run Remote Selenium WebDriver. Selenium 3.X is no longer capable of running Selenium RC directly, rather it does it through emulation and the WebDriverBackedSelenium interface.</a></p>
<p>Download version 3.4.0<br>
After download complete, we will get selenium-server-standalone-3.4.0.jar file.</p>
<h3 id="Prebuilt-packages-and-binaries"><a href="#Prebuilt-packages-and-binaries" class="headerlink" title="Prebuilt packages and binaries"></a>2.install via Maven</h3><p>Open pom.xml and config Selenium</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;
    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;
    &lt;version&gt;3.4.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="Prebuilt-packages-and-binaries"><a href="#Prebuilt-packages-and-binaries" class="headerlink" title="Prebuilt packages and binaries"></a>3.Hello Selenium</h3><p>We wrote a simple Selenium Sample to verify if the enviroment has been installed succuffully.</p>
<pre><code>import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
 
public class Itest {
    public static void main(String[] args) {
 
        WebDriver driver = new ChromeDriver();
        driver.get("http://www.itest.info");
 
        String title = driver.getTitle();
        System.out.printf(title);
 
        driver.close();
    }
}
</code></pre>
<p>If the execution reports an error, please refer to the next section, selenium 3 browser driver.</p>
<h2 id="Browser driver"><a href="#Browser driver" class="headerlink" title="Browser driver"></a>Browser driver</h2>
<h3 id="Building-PHP-source-code"><a href="#Building-PHP-source-code" class="headerlink" title="Building PHP source code"></a>1.download browser driver</h3><p>After selenium was upgraded to v3.0, different browser drivers were standardized. <br>If you want to use selenium to drive different browsers, you must download and set up different browser drivers separately.<br>Download address of each browser:<br>Firefox: <a target="_blank" href="https://github.com/mozilla/geckodriver/releases">geckodriver</a><br>Chrome: <a target="_blank" href="https://sites.google.com/a/chromium.org/chromedriver/home">chromedriver</a><br>IE: <a target="_blank" href="http://selenium-release.storage.googleapis.com/index.html">IEDriverServer</a><br>Edge: <a target="_blank" href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/">MicrosoftWebDriver</a><br>Opera: <a target="_blank" href="https://github.com/operasoftware/operachromiumdriver/releases">operadriver</a><br>PhantomJS: <a target="_blank" href="http://phantomjs.org/">phantomjs</a></p>
<h3 id="Building-PHP-source-code"><a href="#Building-PHP-source-code" class="headerlink" title="Building PHP source code"></a>2.set browser driver</h3><p>It is very easy to set the browser driver address. <br>We can manually create a directory to store the browser driver, such as C: \driver, and put the browser driver files (such as chromedriver and geckodriver) into this directory.<br>Then click on My computer –> properties –> system settings –> advanced –> environment variables –> system variables –> path, and add the directory (e.g. C:\Driver) to the value of path.</p>
<h3 id="Building-PHP-source-code"><a href="#Building-PHP-source-code" class="headerlink" title="Building PHP source code"></a>3.verify browser driver</h3><p>Verify if each browser driver can work properly.</p>
<pre><code>import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.edge.EdgeDriver;
import org.openqa.selenium.ie.InternetExplorerDriver;
import org.openqa.selenium.opera.OperaDriver;
import org.openqa.selenium.phantomjs.PhantomJSDriver;
 
……
 
WebDriver driver = new ChromeDriver();    //Chrome浏览器
 
WebDriver driver = new FirefoxDriver();   //Firefox浏览器
 
WebDriver driver = new EdgeDriver();      //Edge浏览器
 
WebDriver driver = new InternetExplorerDriver();  // Internet Explorer浏览器
 
WebDriver driver = new OperaDriver();     //Opera浏览器
 
WebDriver driver = new PhantomJSDriver();   //PhantomJS

……
</code></pre>
<h2 id="Element location"><a href="#Element location" class="headerlink" title="Element location"></a>Element location</h2><h3 id="Building-PHP-source-code"><a href="#Building-PHP-source-code" class="headerlink" title="Building PHP source code"></a>1.locating methods</h3><p>Selenium provides 8 kind of locating methods</p>
<ul>
<li>id</li>
<li>name</li>
<li>class name</li>
<li>tag name</li>
<li>link text</li>
<li>partial link text</li>
<li>xpath</li>
<li>css selector</li>
</ul>
<p>The corresponding functions in Java as below:</p>
<ul>
<li>findElement(By.id())</li>
<li>findElement(By.name())</li>
<li>findElement(By.className())</li>
<li>findElement(By.tagName())</li>
<li>findElement(By.linkText())</li>
<li>findElement(By.partialLinkText())</li>
<li>findElement(By.xpath())</li>
<li>findElement(By.cssSelector())</li>
</ul><h3 id="Building-PHP-source-code"><a href="#Building-PHP-source-code" class="headerlink" title="Building PHP source code"></a>2.usage of locating functions</h3><p>Given we have a web page, we can see the attributes of an element through a front-end tool (e.g. FireBug) as below:</p>
<pre><code>&lt;html&gt;
  &lt;head&gt;
  &lt;body link="#0000cc"&gt;
    &lt;a id="result_logo" href="/" onmousedown="return c({'fm':'tab','tab':'logo'})"&gt;
    &lt;form id="form" class="fm" name="f" action="/s"&gt;
      &lt;span class="soutu-btn"&gt;&lt;/span&gt;
        &lt;input id="kw" class="s_ipt" name="wd" value="" maxlength="255" autocomplete="off"&gt;
</code></pre>
<p>Our goal is to locate the input box.</p>
<ul>
<li><p>by id</p><pre><code>driver.findElement(By.id("kw"))</code></pre></li>
<li><p>by name</p><pre><code>driver.findElement(By.name("wd"))</code></pre></li>
<li><p>by class name</p><pre><code>driver.findElement(By.className("s_ipt"))</code></pre></li>
<li><p>by tag name</p><pre><code>driver.findElement(By.tagName("input"))</code></pre></li>
<li><p>by xpath, there are many ways to write the code:</p><pre><code>driver.findElement(By.xpath("//*[@id='kw']"))
driver.findElement(By.xpath("//*[@name='wd']"))
driver.findElement(By.xpath("//input[@class='s_ipt']"))
driver.findElement(By.xpath("/html/body/form/span/input"))
driver.findElement(By.xpath("//span[@class='soutu-btn']/input"))
driver.findElement(By.xpath("//form[@id='form']/span/input"))
driver.findElement(By.xpath("//input[@id='kw' and @name='wd']"))</code></pre></li>
<li><p>by css, there are many ways to write the code:</p><pre><code>driver.findElement(By.cssSelector("#kw")
driver.findElement(By.cssSelector("[name=wd]")
driver.findElement(By.cssSelector(".s_ipt")
driver.findElement(By.cssSelector("html > body > form > span > input")
driver.findElement(By.cssSelector("span.soutu-btn> input#kw")
driver.findElement(By.cssSelector("form#form > span > input")</code></pre></li>
</ul>
<p>Next, we have a set of text links in our page.</p>
<pre><code>&lt;a class="mnav" href="http://news.baidu.com" name="tj_trnews"&gt;新闻&lt;/a&gt;
&lt;a class="mnav" href="http://www.hao123.com" name="tj_trhao123"&gt;hao123&lt;/a&gt;</code></pre>
<ul>
<li><p>by link text</p><pre><code>driver.findElement(By.linkText("新闻")
driver.findElement(By.linkText("hao123")</code></pre></li>
<li><p>by partial link text</p><pre><code>driver.findElement(By.partialLinkText("新")
driver.findElement(By.partialLinkText("hao")
driver.findElement(By.partialLinkText("123")</code></pre></li>
</ul>
<h2 id="Control browser"><a href="#Control browser" class="headerlink" title="Control browser"></a>Control browser</h2><h3 id="Guidelines-for-contributors"><a href="#Guidelines-for-contributors" class="headerlink" title="Guidelines for contributors"></a>1.control the browser window size</h3><p>Sometimes we hope to be able to open browser with a specific size, and visit the pages in this size. <br>For example, we need to set the browser to the size of the mobile terminal (480 * 800), and then visit the mobile site to evaluate its style. <br>Webdriver provides one function named manage().window().setSize() to set the size of the browser.</p>
<ul>
<li>maximize() to maximize the browser</li>
<li>setsize()  to set the browser width and height</li>
</ul>
<pre><code>import org.openqa.selenium.Dimension;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
 
 
public class Browser {
  public static void main(String[] args) throws InterruptedException {
 
    WebDriver driver= new ChromeDriver();
    driver.get("https://www.baidu.cn");
 
    driver.manage().window().maximize();
    Thread.sleep(2000);
 
    driver.get("https://m.baidu.cn");
    driver.manage().window().setSize(new Dimension(480, 800));
    Thread.sleep(2000);
 
    driver.quit();
  }
}</code></pre>
<p>Usually, when we run automatic-test scripts on PC, the browser is expected to be open in full screen mode. <br>So we can use maximize() function to make the open browser display in full screen. <br>Its usage is the same as that of setSize() function, but it does not need any parameters.</p>
<h3 id="Guidelines-for-contributors"><a href="#Guidelines-for-contributors" class="headerlink" title="Guidelines for contributors"></a>2.control the browser backward and forward</h3>
<h3 id="Guidelines-for-contributors"><a href="#Guidelines-for-contributors" class="headerlink" title="Guidelines for contributors"></a>3.control the browser refresh page</h3>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>WebDriver common functions</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Simulated mouse operation</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Simulated keyboard operation</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Get assert information</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Set element wait</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Locating a set of elements</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Switch frames</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Switch windows</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Select drop-down list</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Alert</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Upload file</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Cookie</h2>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Execute JavaScript</h2>
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/11/php/" data-id="cklsy6ytx000erd9561b746uv" data-title="PHP" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/" rel="tag">php</a></li></ul>
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/02/12/kubernetes/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Kubernetes (K8s)      </div>
    </a>
  
  
    <a href="/2021/02/02/about/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">About</div>
    </a></nav>

  
</article>
</section>
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go/" rel="tag">Go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NoSQL/" rel="tag">NoSQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/composer/" rel="tag">composer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/" rel="tag">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/laravel/" rel="tag">laravel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/postman/" rel="tag">postman</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yii2/" rel="tag">yii2</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/12/kubernetes/">Kubernetes (K8s)</a>          </li>
        
          <li>
            <a href="/2021/02/11/php/">PHP</a>          </li>
        
          <li>
            <a href="/2021/02/02/about/">About</a>          </li>
        
          <li>
            <a href="/2021/01/12/redis/">Redis</a>          </li>
        
          <li>
            <a href="/2021/01/11/postman/">Postman</a>          </li>
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Composer/">Composer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JQuery/">JQuery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/">Kubernetes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Laravel/">Laravel</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Postman/">Postman</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Yii2/">Yii2</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>
</aside>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 By Autoload<br>
      Driven - <a href="https://hexo.io/" target="_blank">Hexo</a>|Theme - <a href="https://github.com/autoload/hexo-theme-auto" target="_blank">Auto</a>    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a></nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/script.js"></script>
  </div>
</body>
</html>